  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox">
    <span class="lightbox-close">Ã—</span>
    <img class="lightbox-img" src="" alt="">
  </div>

  <!-- SCRIPT GLOBAL -->
  <script>
    const faders = document.querySelectorAll('.fade-in');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.2 });
    faders.forEach(fade => observer.observe(fade));

    const images = document.querySelectorAll('.carousel-img');
    const thumbs = document.querySelectorAll('.thumb');
    const prevBtn = document.querySelector('.carousel-btn.prev');
    const nextBtn = document.querySelector('.carousel-btn.next');
    let currentIndex = 0;

    function showImage(index) {
      images.forEach(img => img.classList.remove('active'));
      thumbs.forEach(thumb => thumb.classList.remove('active'));
      images[index].classList.add('active');
      thumbs[index].classList.add('active');
      currentIndex = index;
    }

    prevBtn.addEventListener('click', () => showImage((currentIndex - 1 + images.length) % images.length));
    nextBtn.addEventListener('click', () => showImage((currentIndex + 1) % images.length));
    thumbs.forEach(thumb => thumb.addEventListener('click', () => showImage(parseInt(thumb.dataset.index))));

    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('.lightbox-img');
    const closeBtn = lightbox.querySelector('.lightbox-close');

    images.forEach(img => {
      img.addEventListener('click', () => {
        lightbox.style.display = 'flex';
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt;
      });
    });

    closeBtn.addEventListener('click', () => lightbox.style.display = 'none');
    lightbox.addEventListener('click', e => {
      if (e.target === lightbox) lightbox.style.display = 'none';
    });
  </script>
